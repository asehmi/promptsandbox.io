"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tscPlugin = void 0;
const worker_threads_1 = require("worker_threads");
const path_1 = require("path");
let started = false;
function tscPlugin() {
    return {
        name: "tsc",
        apply: "serve",
        configureServer: async () => {
            if (started)
                return;
            new worker_threads_1.Worker((0, path_1.resolve)(__dirname, "./worker"));
            started = true;
        },
    };
}
exports.tscPlugin = tscPlugin;
