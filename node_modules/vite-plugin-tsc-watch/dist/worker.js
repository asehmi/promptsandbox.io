"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = require("path");
const typescript_1 = require("typescript");
(0, typescript_1.createWatchProgram)((0, typescript_1.createWatchCompilerHost)("tsconfig.json", undefined, typescript_1.sys, undefined, (log) => {
    const message = typeof log.messageText === "string"
        ? log.messageText
        : log.messageText.messageText;
    if (log.file) {
        const position = log.file.getLineAndCharacterOfPosition(log.start);
        const name = (0, path_1.relative)("", log.file.fileName);
        const line = position.line + 1;
        const char = position.character + 1;
        console.log(`${name}(${line},${char}): ${message}`);
    }
    else {
        console.log(message);
    }
}, () => undefined // Don't report file watcher status (Starting incremental, Watching for file changes, ...)
));
